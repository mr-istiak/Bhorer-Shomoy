const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/UserInfo-Bnnh8DKn.js","assets/UserInfo.vue_vue_type_script_setup_true_lang-BQl9F7L7.js","assets/index-N1-JztXm.js","assets/app-BLrU0oeZ.js","assets/app-Cil8wQqm.css","assets/useForwardPropsEmits-DMzaJHsr.js","assets/useForwardExpose-BYFvSCAe.js","assets/index-CTBYmGwP.js","assets/Paginator-DiMV25yF.js","assets/Paginator.vue_vue_type_script_setup_true_lang-BNV3xuqJ.js","assets/createLucideIcon-Z75VbzRp.js","assets/chevron-right-C24Nrbuj.js"])))=>i.map(i=>d[i]);
import{d as $,l as U,q as X,f as L,c as y,o as f,a as c,b as q,u as e,m as B,g as o,n as G,R,S as j,X as H,z as h,E as n,A as g,L as x,e as b,Q as F,s as Q,G as C,h as Y,i as J,_ as S,K as W,r as E,N as Z,I as ee}from"./app-BLrU0oeZ.js";import{c as te}from"./useForwardPropsEmits-DMzaJHsr.js";import{i as z}from"./nullish-CHIgUVhi.js";import{u as O,b as A}from"./useForwardExpose-BYFvSCAe.js";import{P as D,c as ae,_ as T}from"./index-N1-JztXm.js";import{b as le}from"./index-CTBYmGwP.js";import{_ as M,a as I}from"./Label.vue_vue_type_script_setup_true_lang-hXX9gIjL.js";import{_ as se,a as oe,b as re,c as ie,d as ue,e as ne,f as de,g as me}from"./DialogTrigger.vue_vue_type_script_setup_true_lang-Cd4yFBpp.js";import{m as K}from"./useUrl-CBgCp5WS.js";import{c as N}from"./createLucideIcon-Z75VbzRp.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=N("CircleCheckIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=N("CloudUploadIcon",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=N("TrashIcon",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),w=100,[ve,_e]=te("ProgressRoot"),P=t=>typeof t=="number";function ge(t,m){return z(t)||P(t)&&!Number.isNaN(t)&&t<=m&&t>=0?t:(console.error(`Invalid prop \`value\` of value \`${t}\` supplied to \`ProgressRoot\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${w} if no \`max\` prop is set)
  - \`null\`  or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`),null)}function xe(t){return P(t)&&!Number.isNaN(t)&&t>0?t:(console.error(`Invalid prop \`max\` of value \`${t}\` supplied to \`ProgressRoot\`. Only numbers greater than 0 are valid max values. Defaulting to \`${w}\`.`),w)}var ye=$({__name:"ProgressRoot",props:{modelValue:{type:[Number,null],required:!1},max:{type:Number,required:!1,default:w},getValueLabel:{type:Function,required:!1,default:(t,m)=>P(t)?`${Math.round(t/m*w)}%`:void 0},getValueText:{type:Function,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["update:modelValue","update:max"],setup(t,{emit:m}){const i=t,s=m;O();const u=A(i,"modelValue",s,{passive:i.modelValue===void 0}),a=A(i,"max",s,{passive:i.max===void 0});U(()=>u.value,async r=>{const _=ge(r,i.max);_!==r&&(await X(),u.value=_)},{immediate:!0}),U(()=>i.max,r=>{const _=xe(i.max);_!==r&&(a.value=_)},{immediate:!0});const p=L(()=>z(u.value)?"indeterminate":u.value===a.value?"complete":"loading");return _e({modelValue:u,max:a,progressState:p}),(r,_)=>(f(),y(e(D),{"as-child":r.asChild,as:r.as,"aria-valuemax":e(a),"aria-valuemin":0,"aria-valuenow":P(e(u))?e(u):void 0,"aria-valuetext":r.getValueText?.(e(u),e(a)),"aria-label":r.getValueLabel(e(u),e(a)),role:"progressbar","data-state":p.value,"data-value":e(u)??void 0,"data-max":e(a)},{default:c(()=>[q(r.$slots,"default",{modelValue:e(u)})]),_:3},8,["as-child","as","aria-valuemax","aria-valuenow","aria-valuetext","aria-label","data-state","data-value","data-max"]))}}),he=ye,be=$({__name:"ProgressIndicator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const m=t,i=ve();return O(),(s,u)=>(f(),y(e(D),B(m,{"data-state":e(i).progressState.value,"data-value":e(i).modelValue?.value??void 0,"data-max":e(i).max.value}),{default:c(()=>[q(s.$slots,"default")]),_:3},16,["data-state","data-value","data-max"]))}}),Ve=be;const $e=$({__name:"Progress",props:{modelValue:{default:0},max:{},getValueLabel:{},getValueText:{},asChild:{type:Boolean},as:{},class:{}},setup(t){const m=t,i=le(m,"class");return(s,u)=>(f(),y(e(he),B({"data-slot":"progress"},e(i),{class:e(ae)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",m.class)}),{default:c(()=>[o(e(Ve),{"data-slot":"progress-indicator",class:"bg-primary h-full w-full flex-1 transition-all",style:G(`transform: translateX(-${100-(m.modelValue??0)}%);`)},null,8,["style"])]),_:1},16,["class"]))}}),ke={key:1,class:"flex items-center p-2 pt-0 text-xs text-muted-foreground space-x-2 mt-2"},we={class:"overflow-y-auto max-h-[60vh] space-y-4"},Me={key:0,class:"mt-4"},Ce=["src"],Pe={class:"text-sm text-muted-foreground mt-1"},Ie={class:"text-sm text-muted-foreground"},Ue={class:"text-sm text-muted-foreground"},Re=$({__name:"FileUploader",props:{defaultMedia:{type:Object,default:null},defaultMediaModifiers:{}},emits:R(["uploaded"],["update:defaultMedia"]),setup(t,{emit:m}){const i=F(()=>S(()=>import("./UserInfo-Bnnh8DKn.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),s=j(t,"defaultMedia"),u=m,a=H({file:null,title:"",alt:""}),p=()=>s.value?K(s.value.path):a.file?URL.createObjectURL(a.file):"",r=L(()=>s.value?"edit":"upload"),_=d=>{a.file=d,a.title=d.name.replace(/\.[^/.]+$/,""),a.alt=d.name.replace(/\.[^/.]+$/,"")};U(()=>s.value,d=>{d&&(a.file=null,a.title=d.title||"",a.alt=d.alt||"")});const k=()=>{s.value=null,a.reset()},V=()=>{if(s.value){a.put(route("media.update",s.value.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{k()}});return}a.post(route("media.store"),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{k(),u("uploaded")}})};return(d,l)=>(f(),y(e(me),Y(J(d.$attrs)),{default:c(()=>[o(e(se),{"as-child":"",onClick:l[0]||(l[0]=v=>k())},{default:c(()=>[q(d.$slots,"trigger",{},()=>[o(T,{as:"span",variant:"link",class:"inline-flex items-center"},{default:c(()=>[o(e(fe),{class:"h-4 w-4"}),l[6]||(l[6]=h(" Upload File ",-1))]),_:1,__:[6]})])]),_:3}),o(e(oe),null,{default:c(()=>[o(e(re),null,{default:c(()=>[o(e(ie),{class:"capitalize"},{default:c(()=>[h(g(r.value)+" Image",1)]),_:1}),o(e(ue),null,{default:c(()=>[h(g(r.value.charAt(0).toUpperCase()+r.value.slice(1,r.value.length))+" your image here. Click "+g(r.value)+" when you're done. ",1),e(a).progress?(f(),y(e($e),{key:0,modelValue:e(a).progress.percentage,"onUpdate:modelValue":l[1]||(l[1]=v=>e(a).progress.percentage=v)},null,8,["modelValue"])):x("",!0),s.value&&s.value.author?(f(),b("div",ke,[l[7]||(l[7]=n("span",null,"Uploaded by",-1)),o(e(i),{user:s.value.author,"show-email":!0},null,8,["user"])])):x("",!0)]),_:1})]),_:1}),n("form",{onSubmit:l[5]||(l[5]=Q(v=>V(),["prevent"])),class:"space-y-4"},[n("section",we,[e(a).file||s.value?(f(),b("div",Me,[o(M,null,{default:c(()=>l[8]||(l[8]=[h("Preview:",-1)])),_:1,__:[8]}),n("img",{src:p(),alt:"Image Preview",class:"max-w-full h-auto mt-2 rounded"},null,8,Ce)])):x("",!0),s.value?x("",!0):(f(),b(C,{key:1},[o(M,{for:"file"},{default:c(()=>l[9]||(l[9]=[h("Select Image",-1)])),_:1,__:[9]}),o(I,{type:"file",id:"file",name:"file",accept:"image/*",onInput:l[2]||(l[2]=v=>_(v.target.files[0]))})],64)),e(a).file||s.value?(f(),b(C,{key:2},[o(M,{for:"title"},{default:c(()=>l[10]||(l[10]=[h("Image Title",-1)])),_:1,__:[10]}),o(I,{type:"text",modelValue:e(a).title,"onUpdate:modelValue":l[3]||(l[3]=v=>e(a).title=v),id:"title",name:"title",placeholder:"Title"},null,8,["modelValue"]),o(M,{for:"alt"},{default:c(()=>l[11]||(l[11]=[h("Alt Text",-1)])),_:1,__:[11]}),o(I,{type:"text",modelValue:e(a).alt,"onUpdate:modelValue":l[4]||(l[4]=v=>e(a).alt=v),id:"alt",name:"alt",placeholder:"Alt Text"},null,8,["modelValue"]),n("ul",null,[n("li",Pe,"File Type: "+g(s.value?s.value.mime_type:e(a).file?.type),1),n("li",Ie,"File Size: "+g(s.value?(s.value.size/1024).toFixed(2)+" KB":((e(a).file?.size||0)/1024).toFixed(2)+" KB"),1),n("li",Ue,"Uploaded At: "+g(s.value?s.value.created_at:new Date(e(a).file?.lastModified||0).toLocaleString()),1)])],64)):x("",!0)]),o(e(ne),null,{default:c(()=>[o(e(de),{"as-child":""},{default:c(()=>[o(T,{type:"submit",class:"capitalize"},{default:c(()=>[h(g(s.value?"Update":"Upload"),1)]),_:1})]),_:1})]),_:1})],32)]),_:1})]),_:3},16))}}),Te={class:"border rounded-lg overflow-hidden relative"},qe=["src","alt"],Fe={class:"p-2 space-y-2"},Se={class:"text-sm font-medium text-primary truncate"},Ne={class:"flex items-center justify-between"},Ee={class:"flex flex-col"},Ae={class:"text-xs text-muted-foreground"},Le={class:"text-xs text-muted-foreground"},Be={key:1,class:"flex items-center p-2 pt-0 text-xs text-muted-foreground space-x-2"},je=$({__name:"ImageOverview",props:{item:{required:!0,type:Object},selection:{required:!1,type:Object},select:{required:!0,type:Boolean}},emits:["click","removed"],setup(t,{emit:m}){const i=F(()=>S(()=>import("./UserInfo-Bnnh8DKn.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),s=m,u=a=>{confirm("Do you really want to delete this file? It will be permanently deleted. You will be not able to restore it.")&&W.delete(route("media.destroy",a.id),{onFinish:()=>s("removed",a)})};return(a,p)=>(f(),b("div",Te,[n("img",{src:e(K)(t.item.path),onClick:p[0]||(p[0]=r=>s("click")),alt:t.item.alt,class:"w-full h-32 object-contain cursor-pointer hover:opacity-60 transition-opacity duration-300"},null,8,qe),t.select&&t.item.id===t.selection?.id?(f(),y(e(ce),{key:0,class:"w-5 h-5 absolute top-0 left-0 text-primary fill-primary-color"})):x("",!0),n("div",Fe,[n("h2",Se,g(t.item.title),1),n("div",Ne,[n("div",Ee,[n("span",Ae,g((t.item.size/1024).toFixed(2))+"KB",1),n("span",Le,g(t.item.mime_type),1)]),t.item.can_delete?(f(),y(e(T),{key:0,onClick:p[1]||(p[1]=r=>u(t.item)),variant:"destructive",size:"sm",type:"button"},{default:c(()=>[o(e(pe),{class:"w-4 h-4"})]),_:1})):x("",!0)])]),t.item.author?(f(),b("div",Be,[p[2]||(p[2]=n("span",null,"by",-1)),o(e(i),{user:t.item.author,"show-icon":!1},null,8,["user"])])):x("",!0)]))}}),ze={class:"p-4"},Oe={class:"flex items-center justify-between mb-6"},De={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4"},Ke={breadcrumbs:[{title:"Media",href:route("media.index")}]},at=$({...Ke,inheritAttrs:!1,__name:"Index",props:R({media:{required:!0,type:Object},select:{type:Boolean,default:!1}},{modelValue:{required:!1},modelModifiers:{}}),emits:R(["newUpload","fileRemoved"],["update:modelValue"]),setup(t,{emit:m}){const i=F(()=>S(()=>import("./Paginator-DiMV25yF.js"),__vite__mapDeps([8,9,3,4,5,6,7,2,10,11]))),s=t,u=m,a=j(t,"modelValue"),p=E(null),r=E(!1),_=V=>{p.value=V,r.value=!0},k=V=>{s.select&&(a.value=V)};return(V,d)=>(f(),b(C,null,[o(e(Z),{title:"Media"}),n("div",ze,[n("div",Oe,[d[3]||(d[3]=n("h1",{class:"text-2xl font-semibold text-slate-900 dark:text-slate-100"},"Media",-1)),o(Re,{defaultMedia:p.value,"onUpdate:defaultMedia":d[0]||(d[0]=l=>p.value=l),open:r.value,"onUpdate:open":d[1]||(d[1]=l=>r.value=l),onUploaded:d[2]||(d[2]=l=>u("newUpload"))},null,8,["defaultMedia","open"])]),n("div",De,[(f(!0),b(C,null,ee(s.media.data,l=>(f(),y(je,{key:l.id,item:l,select:t.select,selection:a.value,onClick:v=>t.select?k(l):_(l),onRemoved:v=>u("fileRemoved",l)},null,8,["item","select","selection","onClick","onRemoved"]))),128))]),t.media.total>t.media.per_page?(f(),y(e(i),{key:0,"pagiantion-data":t.media,"base-route-name":"media.index",class:"mt-4"},null,8,["pagiantion-data"])):x("",!0)])],64))}});export{fe as C,at as _,je as a};
