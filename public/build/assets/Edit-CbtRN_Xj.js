import{d as h,r as v,f as x,e as l,o,g as r,E as s,u as e,N as k,c as b,L as w,G as d,I as y,a as p,z as E,A as u,J as f,K as C}from"./app-GeWjX9nR.js";import{m as B}from"./useUrl-CBgCp5WS.js";import{_ as m}from"./index-BZs4ypES.js";import{_ as N}from"./InlineHeader.vue_vue_type_script_setup_true_lang-CnMW6Ff2.js";import{S}from"./settings-K2SHnTDy.js";import"./TextLink.vue_vue_type_script_setup_true_lang-T1_wBD9f.js";import"./Heading.vue_vue_type_script_setup_true_lang-pWtCqrca.js";import"./createLucideIcon-BoJrWEEx.js";const V={class:"p-6 gap-4 flex flex-col"},$={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-8"},G=["src","alt"],L={class:"flex py-2 px-2 items-center justify-between"},j={class:"text-sm font-medium text-primary truncate"},z={breadcrumbs:[{title:"Epaper",href:route("epapers.index")},{title:"Configure Epaper",href:document.location.href}]},T=h({...z,inheritAttrs:!1,__name:"Edit",props:{epaper:{}},setup(_){const c=_,a=v(!1),n=x(()=>new URLSearchParams(window.location.search).get("article")),g=()=>{a.value||(a.value=!0,C.post(route("epaper.generate",c.epaper.id),{},{onFinish:()=>{a.value=!1}}))};return(i,A)=>(o(),l(d,null,[r(e(k),{title:"Configure Epaper"}),s("div",V,[r(N,{title:"Configure Epaper",link:{href:i.route("epapers.index"),text:"Back to Epapers"},description:"Epaper title: "+i.epaper.title},null,8,["link","description"]),s("div",$,[(o(!0),l(d,null,y(c.epaper.pages,t=>(o(),l("div",{key:t.id,class:"border rounded-lg overflow-hidden relative"},[r(e(f),{href:i.route("epages.show",{epage:t.id,extending_article:n.value})},{default:p(()=>[s("img",{src:e(B)(t.image_path),alt:`page_${t.page_number}`,class:"w-fit h-fit object-contain cursor-pointer hover:opacity-60 transition-opacity duration-300 bg-primary"},null,8,G)]),_:2},1032,["href"]),s("div",L,[s("h2",j,u(`Page ${t.page_number}`),1),r(e(m),{as:e(f),href:i.route("epages.show",{epage:t.id,extending_article:n.value}),variant:"ghost",size:"sm"},{default:p(()=>[r(e(S),{class:"h-4 w-4 text-primary"})]),_:2},1032,["as","href"])])]))),128))]),n.value?w("",!0):(o(),b(e(m),{key:0,onClick:g,class:"mt-4 self-end",disabled:a.value},{default:p(()=>[E(u(a.value?"Generating...":"Generate"),1)]),_:1},8,["disabled"]))])],64))}});export{T as default};
